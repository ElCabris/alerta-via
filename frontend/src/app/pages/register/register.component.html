<div class="register-container">
  <div class="logo-header">
    <img src="/Logo.webp" alt="AlertaVia Logo" class="logo-img">
  </div>

  <div class="card">
    <form class="register-form" autocomplete="off" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label for="fullName">Nombre completo</label>
        <div class="input-wrapper" [class.error]="fullNameError">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" fill="none" stroke="currentColor" stroke-width="1.6"/>
            <path d="M16 15a6 6 0 0 0-8 0" fill="none" stroke="currentColor" stroke-width="1.6"/>
            <rect x="3" y="11" width="18" height="10" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="1.6"/>
          </svg>
          <input 
            type="text" 
            id="fullName" 
            placeholder="Tu nombre completo" 
            [(ngModel)]="fullName" 
            name="fullName" 
            required
            [disabled]="isLoading"
            (input)="onFullNameInput()"
          />
        </div>
        <div class="error-message" *ngIf="fullNameError">
          {{ fullNameError }}
        </div>
      </div>

      <div class="form-group">
        <label for="email">Correo electrónico</label>
        <div class="input-wrapper" [class.error]="emailError">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M2 6.5A2.5 2.5 0 0 1 4.5 4h15A2.5 2.5 0 0 1 22 6.5v11A2.5 2.5 0 0 1 19.5 20h-15A2.5 2.5 0 0 1 2 17.5v-11zM4.5 6L12 11l7.5-5" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <input 
            type="email" 
            id="email" 
            placeholder="tu@email.com" 
            [(ngModel)]="email" 
            name="email" 
            required
            [disabled]="isLoading"
            (input)="onEmailInput()"
          />
        </div>
        <div class="error-message" *ngIf="emailError">
          {{ emailError }}
        </div>
      </div>

      <div class="form-group">
        <label for="password">Contraseña</label>
        <div class="input-wrapper" [class.error]="passwordError">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M17 11V8a5 5 0 0 0-10 0v3" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <rect x="3" y="11" width="18" height="10" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="1.6"/>
          </svg>
          <input 
            type="password" 
            id="password" 
            placeholder="........" 
            [(ngModel)]="password" 
            name="password" 
            required
            [disabled]="isLoading"
            (input)="onPasswordInput()"
          />
        </div>
        <div class="error-message" *ngIf="passwordError">
          {{ passwordError }}
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirmar contraseña</label>
        <div class="input-wrapper" [class.error]="confirmPasswordError">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M17 11V8a5 5 0 0 0-10 0v3" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <rect x="3" y="11" width="18" height="10" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="1.6"/>
            <path d="m9 12 2 2 4-4" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <input 
            type="password" 
            id="confirmPassword" 
            placeholder="........" 
            [(ngModel)]="confirmPassword" 
            name="confirmPassword" 
            required
            [disabled]="isLoading"
            (input)="onConfirmPasswordInput()"
          />
        </div>
        <div class="error-message" *ngIf="confirmPasswordError">
          {{ confirmPasswordError }}
        </div>
      </div>

      <div class="form-group checkbox-group" [class.error]="termsError">
        <label class="checkbox-label">
          <input 
            type="checkbox" 
            id="terms" 
            [(ngModel)]="acceptTerms" 
            name="acceptTerms" 
            required
            [disabled]="isLoading"
            (change)="onTermsChange()"
          />
          <span class="checkmark"></span>
          Acepto los <a href="#" class="link" routerLink="/terminos">términos y condiciones</a> 
          y la <a href="#" class="link" routerLink="/privacidad">política de privacidad</a>
        </label>
        <div class="error-message" *ngIf="termsError">
          {{ termsError }}
        </div>
      </div>

      <div class="button-container">
        <button 
          type="submit" 
          class="register-button"
          [disabled]="isLoading"
        >
          <span *ngIf="!isLoading">Crear Cuenta</span>
          <span *ngIf="isLoading" class="loading-text">
            <span class="spinner"></span>
            Creando cuenta...
          </span>
        </button>
      </div>
      
      <div class="login-link">
        <span>¿Ya tienes cuenta? </span>
        <a 
          href="#" 
          class="link" 
          routerLink="/"
          [class.disabled]="isLoading"
        >
          Inicia sesión
        </a>
      </div>
    </form>
  </div>
</div>